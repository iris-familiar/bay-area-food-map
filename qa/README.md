# ğŸ§ª QA Workflow System

è‡ªåŠ¨åŒ–è´¨é‡ä¿éšœå·¥ä½œæµï¼Œç¡®ä¿æ¯æ¬¡é‡å¤§æ”¹åŠ¨åæ•°æ®å®Œæ•´æ€§ã€å‰åç«¯ä¸€è‡´æ€§ã€‚

## å¿«é€Ÿå¼€å§‹

```bash
# è¿è¡Œå®Œæ•´QAéªŒè¯
./qa.sh

# æˆ–ä»…æ£€æµ‹åç«¯æ•°æ®
./qa.sh backend

# æˆ–ä»…æ£€æµ‹å‰ç«¯UI
./qa.sh frontend

# æŸ¥çœ‹æœ€æ–°æŠ¥å‘Š
./qa.sh report
```

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Travis (ä¸»Agent)                      â”‚
â”‚                     QA Orchestrator                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    â”‚
        â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend QA   â”‚    â”‚ Frontend QA  â”‚
â”‚ Agent        â”‚â—„â”€â”€â–ºâ”‚ Agent        â”‚
â”‚              â”‚    â”‚              â”‚
â”‚ â€¢ æ•°æ®å®Œæ•´æ€§  â”‚    â”‚ â€¢ UIç»„ä»¶æ£€æµ‹  â”‚
â”‚ â€¢ SchemaéªŒè¯ â”‚    â”‚ â€¢ æ•°æ®è¿æ¥æµ‹è¯• â”‚
â”‚ â€¢ äº¤å‰éªŒè¯   â”‚    â”‚ â€¢ åŠŸèƒ½éªŒè¯    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Compare Notes â”‚
        â”‚  ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Agent èŒè´£

### Backend QA Agent
- âœ… æ•°æ®æ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥
- âœ… JSON SchemaéªŒè¯ï¼ˆå¿…å¡«å­—æ®µï¼‰
- âœ… æ•°æ®å®Œæ•´æ€§ï¼ˆæ— é‡å¤IDã€æ— ç¼ºå¤±å­—æ®µï¼‰
- âœ… äº¤å‰éªŒè¯ï¼ˆmain db vs v5_uiï¼‰
- âœ… ç»Ÿè®¡æŒ‡æ ‡ï¼ˆéªŒè¯ç‡ã€Googleè¯„åˆ†è¦†ç›–ç‡ï¼‰

### Frontend QA Agent
- âœ… æ–‡ä»¶ç»“æ„æ£€æŸ¥
- âœ… HTMLå…ƒç´ å®Œæ•´æ€§
- âœ… æ•°æ®åŠ è½½æµ‹è¯•ï¼ˆHTTP APIï¼‰
- âœ… JavaScriptå‡½æ•°æ£€æŸ¥

### Compare Notes
ä¸¤è¾¹Agentå¯¹æ¯”å…³é”®æŒ‡æ ‡ï¼š
- åç«¯ç»Ÿè®¡çš„é¤å…æ•° == å‰ç«¯åŠ è½½çš„é¤å…æ•°ï¼Ÿ
- æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥
- ç”Ÿæˆæœ€ç»ˆå»ºè®®å’Œéƒ¨ç½²å»ºè®®

## è§¦å‘æ¡ä»¶

### è‡ªåŠ¨è§¦å‘ï¼ˆæ¨èï¼‰
åœ¨ä»¥ä¸‹æƒ…å†µä¸‹Travisä¼šè‡ªåŠ¨è¿è¡ŒQAï¼š

1. **æ•°æ®æ›´æ–°å**
   ```bash
   # æ•°æ®æå–å®Œæˆ â†’ è‡ªåŠ¨QA
   # GoogleéªŒè¯å®Œæˆ â†’ è‡ªåŠ¨QA
   # æ•°æ®åº“ç‰ˆæœ¬å‡çº§ â†’ è‡ªåŠ¨QA
   ```

2. **ä»£ç æ”¹åŠ¨å**
   ```bash
   # index.html ä¿®æ”¹ â†’ è‡ªåŠ¨QA
   # JSåŠŸèƒ½å˜æ›´ â†’ è‡ªåŠ¨QA
   ```

3. **å®šæ—¶æ£€æŸ¥**
   - æ¯æ—¥å‡Œæ™¨2:00æ•°æ®æ›´æ–°åè‡ªåŠ¨QA

### æ‰‹åŠ¨è§¦å‘
```bash
"Travis, è¿è¡ŒQAéªŒè¯"
"Travis, æ£€æŸ¥æ•°æ®å®Œæ•´æ€§"
"Travis, éªŒè¯å‰ç«¯åŠŸèƒ½"
```

## æŠ¥å‘Šè§£è¯»

### Status Levels
- **PASSED** âœ… - æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œå¯ä»¥éƒ¨ç½²
- **PASSED_WITH_WARNINGS** âš ï¸ - æœ‰è­¦å‘Šä½†å¯éƒ¨ç½²
- **FAILED** âŒ - æœ‰å…³é”®é—®é¢˜ï¼Œéœ€ä¿®å¤åéƒ¨ç½²

### å…³é”®æŒ‡æ ‡
| æŒ‡æ ‡ | è¯´æ˜ | å¥åº·é˜ˆå€¼ |
|------|------|----------|
| Data Consistency | å‰åç«¯æ•°æ®æ•°é‡ä¸€è‡´ | å¿…é¡»åŒ¹é… |
| Verification Rate | GoogleéªŒè¯è¦†ç›–ç‡ | >50% |
| Schema Errors | æ•°æ®schemaé”™è¯¯æ•° | 0 |
| Data Loading | å‰ç«¯èƒ½å¦åŠ è½½æ•°æ® | å¿…é¡»PASS |

## æ–‡ä»¶ç»“æ„

```
qa/
â”œâ”€â”€ qa-orchestrator.js      # ä¸»æ§è„šæœ¬
â”œâ”€â”€ QA_WORKFLOW.md          # è¯¦ç»†æ–‡æ¡£
â”œâ”€â”€ reports/                # QAæŠ¥å‘Šå­˜å‚¨
â”‚   â”œâ”€â”€ backend_qa_*.json
â”‚   â”œâ”€â”€ frontend_qa_*.json
â”‚   â”œâ”€â”€ qa_comparison_*.json
â”‚   â””â”€â”€ qa_summary_*.md
â””â”€â”€ backend_qa_task.json    # ä»»åŠ¡å®šä¹‰

qa.sh                       # å¿«é€Ÿå…¥å£è„šæœ¬
```

## é›†æˆåˆ°ç»´æŠ¤æµç¨‹

åœ¨ `maintain.sh` ä¸­å·²é›†æˆï¼š

```bash
# æ•°æ®æ›´æ–°åè‡ªåŠ¨QA
./maintain.sh qa

# æˆ–è®¾ç½®ç¯å¢ƒå˜é‡
QA_AUTO=true ./maintain.sh update
```

## é—®é¢˜æ’æŸ¥

### "Data count mismatch"
è¯´æ˜åç«¯æ•°æ®åº“å’Œå‰ç«¯åŠ è½½çš„æ•°æ®æ•°é‡ä¸ä¸€è‡´ã€‚æ£€æŸ¥ï¼š
1. `data/current/restaurant_database.json` vs `v5_ui.json`
2. æ˜¯å¦æœ‰åˆå¹¶æ“ä½œæœªå®Œæˆ

### "Frontend cannot load data"
å‰ç«¯æ— æ³•è¿æ¥åˆ°localhost:8888ã€‚æ£€æŸ¥ï¼š
1. `python3 -m http.server 8888` æ˜¯å¦è¿è¡Œ
2. ç«¯å£æ˜¯å¦è¢«å ç”¨

### "Missing JS functions"
HTMLä¸­ç¼ºå°‘å¿…è¦çš„JavaScriptå‡½æ•°ã€‚æ£€æŸ¥ï¼š
1. index.htmlæ˜¯å¦å®Œæ•´
2. å‡½æ•°åæ˜¯å¦æ­£ç¡®

## é«˜çº§ç”¨æ³•

### ä½¿ç”¨OpenClaw Agent Spawn

```javascript
// Travisåè°ƒä¸¤ä¸ªsub-agentè¿›è¡Œæ·±åº¦éªŒè¯
const result = await sessions_spawn({
  task: `Run comprehensive QA for bay-area-food-map:
    1. Backend: validate data integrity, schema, cross-reference
    2. Frontend: test UI components, data loading
    3. Compare notes and generate report
    4. Return overall status (PASSED/FAILED)`,
  agentId: "planner",
  label: "qa-orchestrator"
});
```

### è‡ªå®šä¹‰æ£€æŸ¥é¡¹

ç¼–è¾‘ `qa/qa-orchestrator.js`ï¼š

```javascript
// åœ¨ BackendQAAgent ä¸­æ·»åŠ æ–°æ£€æŸ¥
async customCheck() {
  // ä½ çš„è‡ªå®šä¹‰éªŒè¯é€»è¾‘
  this.results.checks.custom = {
    status: 'PASS',
    details: {...}
  };
}
```

## æœªæ¥æ‰©å±•

- [ ] è§†è§‰å›å½’æµ‹è¯•ï¼ˆæˆªå›¾å¯¹æ¯”ï¼‰
- [ ] æ€§èƒ½æµ‹è¯•ï¼ˆåŠ è½½æ—¶é—´ï¼‰
- [ ] è‡ªåŠ¨åŒ–ä¿®å¤å»ºè®®
- [ ] Slack/Discordé€šçŸ¥é›†æˆ
